(()=>{"use strict";const e=document.getElementById("form"),t=document.getElementById("query");window.addEventListener("load",(function(e){(async()=>{const e=await fetch("https://character-database.becode.xyz/characters"),t=await e.json().catch(console.error);for(let e=0;e<t.length;e++){const a=document.createElement("div");a.setAttribute("id","div"+e),a.setAttribute("class","div_test"),document.getElementById("list_char").appendChild(a);const c=document.createElement("img");c.setAttribute("id","pImg"+e),c.setAttribute("src","data:image/png;base64,"+t[e].image),c.setAttribute("class","main_img"),document.getElementById("div"+e).appendChild(c);const n=document.createElement("p");n.setAttribute("id","pName"+e),n.setAttribute("class","p_test_name"),document.getElementById("div"+e).appendChild(n),document.getElementById("pName"+e).innerHTML=t[e].name;const s=document.createElement("p");s.setAttribute("id","pDesc"+e),s.setAttribute("class","p_test_desc"),document.getElementById("div"+e).appendChild(s),document.getElementById("pDesc"+e).innerHTML=t[e].shortDescription;const d=document.createElement("a");d.setAttribute("id","aBtn"+e),d.setAttribute("class","p_test_btn"),d.setAttribute("href","yooooo"),document.getElementById("div"+e).appendChild(d),document.getElementById("aBtn"+e).innerHTML="Learn More";const r="http://127.0.0.1:5500/";d.addEventListener("click",(function(a){a.preventDefault();const c=r+t[e].name;window.open(c,"_self").document.write("<!DOCTYPE html><html><head><title>"+t[e].name+'</title><script type="module" src="./src/index.js"><\/script><link rel="stylesheet" href="./src/css/index.min.css" /></head><body class="body_char"><header class="header_char"><div class="buttons"> <form id="form" role="search"> <input type="search" id="query" name="q" placeholder="Search character..." aria-label="Search through site content" /> <button id="btn_search" class="button_search"> <svg viewBox="0 0 1024 1024"> <path class="path1" d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"> </path> </svg> </button> </form> <button id="btn_add" class="button_add">Add new character</button> </div> <div class="title"> <h1>Character Manager</h1> </div></header><main class="main_char"><div class="main_char_div" id="main_char_div"><h1 href="#" class="h1_char" id="h1_char">'+t[e].name+"</h1></div></main><footer></footer></body></html>"),document.getElementById("h1_char").innerHTML=t[e].name;const n=document.createElement("img");n.setAttribute("id","pImg"),n.setAttribute("src","data:image/png;base64,"+t[e].image),n.setAttribute("class","img_char"),document.getElementById("main_char_div").appendChild(n);const s=document.createElement("p");s.setAttribute("id","pName"),s.setAttribute("class","p_char_desc"),document.getElementById("main_char_div").appendChild(s),document.getElementById("pName").innerHTML=t[e].description;const d=document.createElement("input");d.setAttribute("id","aBtnChar"+e),d.setAttribute("class","p_test_btn_c"),d.setAttribute("type","button"),d.setAttribute("value","delete character"),document.getElementById("main_char_div").appendChild(d),d.addEventListener("click",(function(){(async()=>{await fetch("https://character-database.becode.xyz/characters/"+t[e].id,{method:"DELETE"})})(),alert("This character has been deleted"),document.location.reload(!0)}))}))}})()})),e.addEventListener("submit",(async e=>{e.preventDefault();const a="http://127.0.0.1:5500/"+t.value;window.open(a,"_self").document.write("<!DOCTYPE html><html><head><title>"+n[i].name+'</title><script type="module" src="./src/index.js"><\/script><link rel="stylesheet" href="./src/css/index.min.css" /></head><body class="body_char"><header class="header_char"><div class="buttons"> <form id="form" role="search"> <input type="search" id="query" name="q" placeholder="Search character..." aria-label="Search through site content" /> <button id="btn_search" class="button_search"> <svg viewBox="0 0 1024 1024"> <path class="path1" d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"> </path> </svg> </button> </form> <button id="btn_add" class="button_add">Add new character</button> </div> <div class="title"> <h1>Character Manager</h1> </div></header><main class="main_char"><h1 class="h1_char" id="h1_char">'+n[i].name+'</h1><div class="main_char_div" id="main_char_div"></div></main><footer></footer></body></html>');const c=await fetch("https://character-database.becode.xyz/characters?name="+t.value),n=await c.json().catch(console.error),s=(document.getElementById("h1_char").innerHTML=n[0].name,document.createElement("img"));s.setAttribute("id","pImg"),s.setAttribute("src","data:image/png;base64,"+n[0].image),s.setAttribute("class","img_char"),document.getElementById("main_char_div").appendChild(s);const d=document.createElement("p");d.setAttribute("id","pName"),d.setAttribute("class","p_char_desc"),document.getElementById("main_char_div").appendChild(d),document.getElementById("pName").innerHTML=n[0].description,console.log(n)}))})();